<% unless @tagging.nil? %>
  var innerHTML = "<%= j render 'cards/tagging_item', world: @world, card: @card, tagging: @tagging %>"
  var test = "<%= j render 'cards/tag_form', world: @world, card: @card, tagging: Tagging.new %>"
  function addTag(innerHTML){
    const list = document.querySelector(".text-muted")
    list.insertAdjacentHTML('beforeend', innerHTML)
  };

  function refreshForm(test) {
    var newTagForm = document.getElementById('tag_form_wrap');
    newTagForm.innerHTML = test;
  };


  <% if @tagging.errors.any? %>
    refreshForm(test);
  <% else %>
    addTag(innerHTML);
    refreshForm(test);
  <% end %>
<% end %>

