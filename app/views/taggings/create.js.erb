<% unless @tagging.nil? %>
  var innerHTML = "<%= j render 'cards/tagging_item', world: @world, card: @card, tagging: @tagging %>"
  var test = "<%= j render 'cards/tag_form', world: @world, card: @card, tagging: Tagging.new %>"
  function addTag(innerHTML){
    const list = document.querySelector(".text-muted")
    list.insertAdjacentHTML('beforeend', innerHTML)
  };

  function refreshForm(test) {
    var newTagForm = document.getElementById('tag_form_wrap');
    newTagForm.innerHTML = test;
  };


  <% if @tagging.errors.any? %>
    refreshForm(test);
  <% else %>
    addTag(innerHTML);
    refreshForm(test);
  <% end %>
<% end %>

document.querySelector("#switch_button").addEventListener("click", (event) => {
  event.preventDefault();
  document.querySelector("#add-tag-form").classList.toggle('hide-div')
  document.querySelector("#button-search-new-tag").classList.toggle('hide-div')
  document.querySelector("#search-tag-form").classList.toggle('hide-div')
  document.querySelector("#button-add-new-tag").classList.toggle('hide-div')
});

